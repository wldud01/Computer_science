## 프로세스

### 포그라운드 프로세스

사용작가 볼 수 있는 공간에서 실행

### 백그라운드 프로세스

사용작가 직접적으로 볼 수 있는 공간은 아니다

사용자와 직접 상호작용이 가능한 백그라운드

사용자와 상호 작용하지 않고 그저 정해진 일만 수행하는 프로세스

- 데몬(daemon)
- 서비스(service

### 프로세스 제어 블록

모든 프로세스는 실행을 위해 cpu가필요하지만 자원이 한정되어 있다

프로세스는 돌아가며 한정된 시간 만큼 cpu를 이용한다

- 자신의 차례에 정해진 시간만큼 이용한다
- 타이머 인터럽트가 발생하면 차례를 양보한다.

빠르게 번갈아 수행되는 프로세스를 관리한다

이를 위해 사용되는 자료구조가 **프로세스 제어 블록 PCB**

- 프로세스 관련 정보를 저장하는 자료구조이다. 마치 상품에 달린 태그와 같은 정보이다
- 프로세스 생성 시 커널 영역에 생성, 종료 시 폐기

### PCB

대표적인 정보

- 프로세스 ID ( PID)
    
    특정 프로세스를식별하기위해 부여하는 고유 번호  
    
- 레지스터 값
    
    왜 저장되어야 할까?
    
    cpu안에 여러 레지스터를 이용하면서 실행하게 되기 때문에 이전에 사용했던 레지스터 중간 값을 모두 복원해서 실행을 재개한다.
    
    이렇게 하지 않으면 다시 자신의 차례가 돌아왔을 때 중간에 했던 과정들을 까먹는 것이나 마찬가지이다. 
    
- 프로세스 상태
    
    생성, 대기 등등, cpu에서 어떤 상태인지
    
- 메모리 정보
    
    어느 주소에 저장되어 있는 지에 대한 정보
    
    페이지 테이블 정보( 메모리 현재 주소를 알 있는 정보)
    
- 스케줄링 정보
    
    언제 어떤 순서로 cpu를 할당 받고 실행하지 
    
- 사용한 파일과 입출력 장치 정보
    
    할당된 입출력 장치
    
    사용 중인 파일 정보 
    

### 문맥 교환

어떻게 한 프로세스에서 다른 프로세스로 실행 순서가 넘어가게 되면 어떤 작업이 일어날까?

- 지금까지의 중간 정보를 백업한다
    
    PCB에 있는 값들을 백업한다
    
    문맥은 중간 값이라고 할 수 있는데 이를 백업해두어서 자신의 차례가 다음에도 왔을 때 실행을 재개할 수 있다.
    
- 뒤이어 오는 실행할 프로세스 B의 문맥을 복구를 한다
    
    이를 문맥 교환이라고 한다.
    
    여러 프로세스가 끊임없이 빠르게 번갈아 가면서 실행하기 위함이다.
    
- 그 이후에는 프로세스 실행을 해나갈 수 있고 이를 반복한다.

### 프로세스는 사용자 영역에서  어떤 식으로 저장이 될까?

크게 코드 영역 ,데이터 영역 ,힙 영역 스택 영역

- 코드 영역
    
    기계어가 이루어진 명령어가 저장
    
    데이터가 아닌  cpu가실행할 명령어가 담기기에 쓰기가 금지된 영역
    
- 데이터 영역
    
    잠깐 썼다가 없앨 데이터가 아닌 프로그램이 실행되는 동안 유지할 데이터 저장 
    
    전역 변수 ( global variable)
    

위에 두 개의 영역은 정적 할당 영역으로 크기가 바뀌지 않는다

- 힙 영역
    
    프로그램을 만드는 사용자, 즉 프로그래머가 직접 할당할 수 있는 저장 공간  
    
    garbage collection
    
    - 알아서 메모리를 다 쓰고 나서 반환해준다
    
     memory leak
    
    - 메모리를 할당한 것을 반환하지 않아서 발생하는 문제
- 스택 영역
    
    데이터가 일시적으로 저장되는 공간
    
    데이터 영역에 담기는 값과는 달리 잠깐 쓰다가 말 값들이 저장되는 공간
    
    매개 변수 지역 변수가 있다.
    

위의 두 개는 가변적으로 변할 수 있는 공간이다. 동적 할당 영역으로 힙 영역은 낮은 주소에서 높은 주소로 할당되고 스택은 높은 주소에서 낮은 주소로 할당된다.
