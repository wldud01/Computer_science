### 플래시 메모리

전기적으로 데이터를 읽고 쓰는 반도체 기반 저장 장치이다. SSD, USB 등등

범용성이 넓은 저장 장치이다. 

- NAND
    
    오늘날 대용량 플래시 메모리로 많이 사용된다.
    
- NOR

구조

- 셀
    
    플래시 메모리에서 데이터를 저장하는 가장 작은 단위
    
    - SLC : 1비트를 저장할 수 있는 플래시 메모리
        
        한집에 한명 사는 구조이다. 한셀로 두개의 정보를 표현할 수 있다. 비트의 빠른 입출력이 가능하다. 수명이 길고 용량 대비 가격이 높다.
        
    - MLC : 2비트를 저장할 수 있는 플래시 메모리
        
        한 집에 두 명이 사는 구조이다. 한 셀에 두 비트씩 저장할 수 있는 구조이다. 대용량화 하기 좋은 구조이다. SLC보다 느린 입출력 속도를 가진다. SLC보다 짧은 수명을 가지고 있지만 가격이 저렴하다. 시중에서 많이 사용한다.
        
    - TLC : 3비트를 저장할 수 있는 플래시 메모리
        
        한 집에 세 명이 사는 구조이다. 한 셀에 8개의 정보 표현이 가능하다  MLC보다 느린 입출력 속도와 짧은 수명을 가지고 있다. 또 MLC 보다 저렴하다. 시중에서 많이 사용되는 플래시 메모리이다.
        
    - QLC : 4비트를 저장할 수 있는 플래시 메모리

여기서 알 수 있는 점은 같은 플래시 메모리라도 수명, 가격, 성능이 달라질 수 있다.

이 셀들이 모여서 페이지가 되고 페이지가 모여서 블록이 되고 블록이 모여서  플레인이 되고 플레인이 모여서 다이가 된다.

page → block → plane → die

플래시 메모리의 읽기 쓰기는 페이지 단위로 이루어진다

- 페이지 상태
    - Free : 어떠한 데이터도 저장하지 있지 않아 새로운 데이터를 저장할 수 있는 상태
    - Valid : 이미 유효한 데이터를 저장하고 있는 상태
    - Invalid : 유효하지 않은 데이터를 저장하고 있는 상태
- 동작 예시

예를 들어서 새롭게 저장된 C와 기존에 저장되어 있던 A,B가 있는데 A를 값을 변경하고 싶을 때 A를 삭제를 해야하는데 삭제는 블록 단위로 동작하기 때문에 페이지 A를 invalid 값으로 처리하고 새로 읽기 쓰기 동작으로 작동하게 된다.

여기서 유효한 페이지들만을 새로운 블록으로 복사해서 기존의 블록을 삭제하는 방식이 가비지 컬렉션이다.

삭제는 블록 단위로 이루어진다

## RAID의 정의와 종류

1TB 하드 디스크 네개로 RAID를 구성하면 4 TB 하드 디스크 한개의 성능과 안정성을 능가할 수 있다.

### RAID

하드디스크와 SSD로 사용하는 기술이다. 즉 데이터의 안정성 혹은 높은 성능을 위해서 여러 물리적 보조기억 장치를 마치 하나의 논리적 보조기억 장치처럼 사용하는 기술이다.

### RAID 레벨

0~6 RAID가 있다.

- 0번째 기술 - 0 RAID

데이터를 단순히 나눠서 저장하는 기술이다.

데이터 스트라입은 마치 줄무늬 처럼 분산되어 저장된 데이터이다. 스트라이핑은 분산해서 저장하는 것을 말한다

장점은 입출력 속도의 향상시킬 수 있다. 값을한번에 가져올 수 있기 때문이다. 하지만 단점은 저장된 정보가 안전하지 않다. 하드디스크 하나가 고장나면 그 디스크의 있는 정보를 모두 잃을 수 있다

- RAID 1

데이터를 쓸 때 원본과 복사본 두군데에 쓴다.

미러링은 복사본을 만드는 방식이다. 즉백업 본을 만든 다고 볼 수 있따.

그래서 쓰는 속도는 느릴 수 있고 복사본이 만들어지는 용량만큼 사용이 불가해서 많은 양의 하드 디스크가 필요하고 비용이 많이 든다.  하지만 백업이 되어 있기 때문에 데이터를 좀 더 안전하게 보관할 수 있다. 

- RAID 4

RAID 1처럼 완전한 복사본을 만드는 대신 패리티 비트를 저장한다

패리티 비트의 정의만 본다면 원래 오류 검출용 정보이고 오류 복구용 정보는 아니다.  하지만 레이드에서 사용되는 패리티 비트는 오류 검출 및 복구 모두 가능하다.

단점은 패리티 디스크의 병목 현상이 생길 수 있다. 새로운 데이터가 들어올 때 마다 계속  해당 패리티 비트 저장 하드디스크가 계속 작동하게 되기 때문에 병목 현상이 생길 수 밖에 없다. 

- RAID 5

패리티 정보를 분산해서 저장하는 방식이다. 따라서 병목 현상을 조금 완화 할 수 있다.

- RAID 6

두 종류의 패리티(오류 검출 및 복구 수단)를 둔다. 따라서 조금 더 안전하지만 조금 더 느릴 수있다.  

상황에 따라서 RAID가 가진 장단점에 따라서 필요한 RAID를 선택해서 사용하고 구성하면 된다.
